"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1367],{4942:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var r=s(6672);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}},9169:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"api/provider/delete","title":"API Deletion Specification","description":"Overview","source":"@site/docs/api/provider/delete.md","sourceDirName":"api/provider","slug":"/api/provider/delete","permalink":"/veil/docs/api/provider/delete","draft":false,"unlisted":false,"editUrl":"https://github.com/try-veil/veil/tree/main/docs/docs/api/provider/delete.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"API Update Specification","permalink":"/veil/docs/api/provider/update"},"next":{"title":"User Registration Specification","permalink":"/veil/docs/api/user/register"}}');var i=s(3420),t=s(4942);const o={},d="API Deletion Specification",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Base URL",id:"base-url",level:2},{value:"Query Parameters",id:"query-parameters",level:2},{value:"Request Headers",id:"request-headers",level:2},{value:"Response",id:"response",level:2},{value:"Success Response (200 OK)",id:"success-response-200-ok",level:3},{value:"Error Response (400 Bad Request)",id:"error-response-400-bad-request",level:3},{value:"Notes",id:"notes",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-deletion-specification",children:"API Deletion Specification"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"The API deletion endpoint allows providers to remove their APIs from the marketplace."}),"\n",(0,i.jsx)(n.h2,{id:"base-url",children:"Base URL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DELETE /v1/apis/{apiId}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"force: boolean    // Force deletion even with active subscriptions (default: false)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"request-headers",children:"Request Headers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Authorization: Bearer <token>\nX-Confirmation: "I understand the consequences"  // Required for force deletion\n'})}),"\n",(0,i.jsx)(n.h2,{id:"response",children:"Response"}),"\n",(0,i.jsx)(n.h3,{id:"success-response-200-ok",children:"Success Response (200 OK)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "message": "API successfully deleted",\n  "deletionDate": "string",           // ISO 8601 datetime\n  "summary": {\n    "subscriptionsTerminated": number, // Number of terminated subscriptions\n    "apiKeysRevoked": number,         // Number of revoked API keys\n    "gatewayRoutesRemoved": number    // Number of gateway routes removed\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"error-response-400-bad-request",children:"Error Response (400 Bad Request)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "status": "error",\n  "code": "ACTIVE_SUBSCRIPTIONS",\n  "message": "Cannot delete API with active subscriptions",\n  "details": {\n    "activeSubscriptions": number,\n    "activeApiKeys": number,\n    "lastUsage": "string"             // ISO 8601 datetime\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Deletion with active subscriptions requires force flag"}),"\n",(0,i.jsx)(n.li,{children:"All API keys are immediately revoked"}),"\n",(0,i.jsx)(n.li,{children:"Gateway routes are immediately removed"}),"\n",(0,i.jsx)(n.li,{children:"Usage history is retained for billing purposes"}),"\n",(0,i.jsx)(n.li,{children:"Documentation is archived but not deleted"}),"\n",(0,i.jsx)(n.li,{children:"Webhook notifications are sent to subscribers"}),"\n",(0,i.jsx)(n.li,{children:"Deletion cannot be undone"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);