"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1633],{37670:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api/user/subscriptions","title":"Subscription Management Specification","description":"Overview","source":"@site/docs/api/user/subscriptions.md","sourceDirName":"api/user","slug":"/api/user/subscriptions","permalink":"/docs/api/user/subscriptions","draft":false,"unlisted":false,"editUrl":"https://github.com/try-veil/veil/tree/main/docs/docs/api/user/subscriptions.md","tags":[],"version":"current","frontMatter":{}}');var t=s(23420),r=s(54942);const c={},a="Subscription Management Specification",o={},l=[{value:"Overview",id:"overview",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Create Subscription",id:"create-subscription",level:3},{value:"Request Body",id:"request-body",level:4},{value:"Success Response (201 Created)",id:"success-response-201-created",level:4},{value:"List Subscriptions",id:"list-subscriptions",level:3},{value:"Query Parameters",id:"query-parameters",level:4},{value:"Success Response (200 OK)",id:"success-response-200-ok",level:4},{value:"Update Subscription",id:"update-subscription",level:3},{value:"Request Body",id:"request-body-1",level:4},{value:"Success Response (200 OK)",id:"success-response-200-ok-1",level:4},{value:"Notes",id:"notes",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"subscription-management-specification",children:"Subscription Management Specification"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The subscription management endpoints allow users to subscribe to APIs and manage their subscriptions."}),"\n",(0,t.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,t.jsx)(n.h3,{id:"create-subscription",children:"Create Subscription"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST /v1/users/subscriptions\n"})}),"\n",(0,t.jsx)(n.h4,{id:"request-body",children:"Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "apiId": "string",           // API to subscribe to\n  "planId": "string",          // Selected pricing plan\n  "settings": {\n    "billingCycle": "string",  // monthly, yearly\n    "autoRenew": boolean,      // Enable auto-renewal\n    "usageAlerts": [\n      {\n        "threshold": number,    // Usage threshold percentage\n        "channels": ["string"]  // Notification channels\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"success-response-201-created",children:"Success Response (201 Created)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "message": "Subscription created",\n  "subscription": {\n    "id": "string",\n    "apiId": "string",\n    "planId": "string",\n    "status": "active",\n    "created": "string",       // ISO 8601 datetime\n    "currentPeriod": {\n      "start": "string",       // ISO 8601 datetime\n      "end": "string"         // ISO 8601 datetime\n    },\n    "usage": {\n      "allowed": number,\n      "used": number,\n      "remaining": number\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"list-subscriptions",children:"List Subscriptions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /v1/users/subscriptions\n"})}),"\n",(0,t.jsx)(n.h4,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"status: string     // Filter by status (active, cancelled, expired)\napiId: string     // Filter by API\nlimit: number     // Number of subscriptions to return\noffset: number    // Pagination offset\n"})}),"\n",(0,t.jsx)(n.h4,{id:"success-response-200-ok",children:"Success Response (200 OK)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "subscriptions": [\n    {\n      "id": "string",\n      "apiId": "string",\n      "planId": "string",\n      "status": "string",\n      "created": "string",\n      "currentPeriod": {\n        "start": "string",\n        "end": "string"\n      },\n      "usage": {\n        "allowed": number,\n        "used": number,\n        "remaining": number\n      }\n    }\n  ],\n  "pagination": {\n    "total": number,\n    "limit": number,\n    "offset": number\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"update-subscription",children:"Update Subscription"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"PATCH /v1/users/subscriptions/{subscriptionId}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"request-body-1",children:"Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "planId": "string",          // New plan ID (optional)\n  "settings": {\n    "billingCycle": "string",  // New billing cycle (optional)\n    "autoRenew": boolean,      // Update auto-renewal (optional)\n    "usageAlerts": [           // Update usage alerts (optional)\n      {\n        "threshold": number,\n        "channels": ["string"]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"success-response-200-ok-1",children:"Success Response (200 OK)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "message": "Subscription updated",\n  "subscription": {\n    "id": "string",\n    "changes": {\n      "planId": {\n        "from": "string",\n        "to": "string"\n      },\n      "effectiveDate": "string" // ISO 8601 datetime\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Subscriptions are required for API access"}),"\n",(0,t.jsx)(n.li,{children:"Plan changes take effect next billing cycle"}),"\n",(0,t.jsx)(n.li,{children:"Usage limits are enforced in real-time"}),"\n",(0,t.jsx)(n.li,{children:"Automatic notifications for usage thresholds"}),"\n",(0,t.jsx)(n.li,{children:"Grace period for payment issues"}),"\n",(0,t.jsx)(n.li,{children:"Historical usage data is retained"}),"\n",(0,t.jsx)(n.li,{children:"Cancellation requires notice period"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},54942:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>a});var i=s(36672);const t={},r=i.createContext(t);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);