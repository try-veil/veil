"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7038],{54942:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var i=s(36672);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},73318:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"api/user/api-keys","title":"API Key Management Specification","description":"Overview","source":"@site/docs/api/user/api-keys.md","sourceDirName":"api/user","slug":"/api/user/api-keys","permalink":"/docs/api/user/api-keys","draft":false,"unlisted":false,"editUrl":"https://github.com/try-veil/veil/tree/main/docs/docs/api/user/api-keys.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"User Registration Specification","permalink":"/docs/api/user/register"},"next":{"title":"Subscription Management Specification","permalink":"/docs/api/consumer/subscriptions"}}');var r=s(23420),t=s(54942);const a={},c="API Key Management Specification",o={},d=[{value:"Overview",id:"overview",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Create API Key",id:"create-api-key",level:3},{value:"Request Body",id:"request-body",level:4},{value:"Success Response (201 Created)",id:"success-response-201-created",level:4},{value:"List API Keys",id:"list-api-keys",level:3},{value:"Query Parameters",id:"query-parameters",level:4},{value:"Success Response (200 OK)",id:"success-response-200-ok",level:4},{value:"Revoke API Key",id:"revoke-api-key",level:3},{value:"Success Response (200 OK)",id:"success-response-200-ok-1",level:4},{value:"Notes",id:"notes",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-key-management-specification",children:"API Key Management Specification"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The API key management endpoints allow users to create, list, and manage their API keys."}),"\n",(0,r.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,r.jsx)(n.h3,{id:"create-api-key",children:"Create API Key"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST /v1/users/keys\n"})}),"\n",(0,r.jsx)(n.h4,{id:"request-body",children:"Request Body"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "string", // Friendly name for the key\n  "expiresIn": "string", // Expiration period (e.g., "30d", "1y")\n  "scopes": [\n    // Array of access scopes\n    "string"\n  ],\n  "restrictions": {\n    "ips": ["string"], // Allowed IP addresses (optional)\n    "referers": ["string"], // Allowed referer domains (optional)\n    "apis": ["string"] // Restricted to specific APIs (optional)\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"success-response-201-created",children:"Success Response (201 Created)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "message": "API key created",\n  "key": {\n    "id": "string",\n    "prefix": "string", // Key prefix for identification\n    "key": "string", // Full API key (shown only once)\n    "name": "string",\n    "created": "string", // ISO 8601 datetime\n    "expires": "string", // ISO 8601 datetime\n    "scopes": ["string"]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"list-api-keys",children:"List API Keys"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET /v1/users/keys\n"})}),"\n",(0,r.jsx)(n.h4,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"active: boolean    // Filter active/inactive keys (optional)\nlimit: number     // Number of keys to return (default: 20)\noffset: number    // Pagination offset (default: 0)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"success-response-200-ok",children:"Success Response (200 OK)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "keys": [\n    {\n      "id": "string",\n      "prefix": "string",\n      "name": "string",\n      "created": "string",\n      "expires": "string",\n      "status": "string",      // active, expired, revoked\n      "lastUsed": "string",    // ISO 8601 datetime\n      "scopes": ["string"]\n    }\n  ],\n  "pagination": {\n    "total": number,\n    "limit": number,\n    "offset": number\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"revoke-api-key",children:"Revoke API Key"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"DELETE /v1/users/keys/{keyId}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"success-response-200-ok-1",children:"Success Response (200 OK)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "message": "API key revoked",\n  "key": {\n    "id": "string",\n    "prefix": "string",\n    "revokedAt": "string" // ISO 8601 datetime\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"API keys are shown only once at creation"}),"\n",(0,r.jsx)(n.li,{children:"Keys can be restricted by IP, referer, and API"}),"\n",(0,r.jsx)(n.li,{children:"Expired or revoked keys are immediately invalid"}),"\n",(0,r.jsx)(n.li,{children:"Key usage is logged for security"}),"\n",(0,r.jsx)(n.li,{children:"Maximum of 10 active keys per user"}),"\n",(0,r.jsx)(n.li,{children:"Automatic expiration notifications"}),"\n",(0,r.jsx)(n.li,{children:"Emergency revocation available for security incidents"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);