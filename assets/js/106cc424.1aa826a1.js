"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9890],{71130:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>g,contentTitle:()=>b,default:()=>f,frontMatter:()=>u,metadata:()=>s,toc:()=>P});const s=JSON.parse('{"id":"swagger/onboard-a-new-api","title":"Onboard a new API","description":"Register a new API with Veil for subscription-based access control","source":"@site/docs/swagger/onboard-a-new-api.api.mdx","sourceDirName":"swagger","slug":"/swagger/onboard-a-new-api","permalink":"/veil/docs/swagger/onboard-a-new-api","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"onboard-a-new-api","title":"Onboard a new API","description":"Register a new API with Veil for subscription-based access control","sidebar_label":"Onboard a new API","hide_title":true,"hide_table_of_contents":true,"api":"eJztWFtvIjcU/iuWHysIkLbSijeaRd2oaTdKSHclhCIzY8C7M+Op7SGLRvz3Pceei4cZAtmmVSttHiD4cs53bt+xndOQ60CJ1AiZ0DG942uhDVeEkYQ/kcntNXkSZkP+5CIiK6mIzpbV+v6SaR4SFgRcaxLIxCgZ0R41bK3peE5x9+8sYWse88TQRY8q/lfGtflFhjs6zu1PoXhIx0ZlvEdRBK6EKZamkQgYqhl80ogtpzrY8Jjhf2aXckArl594YGjPEzSnKTMbGMpSbRRnsTf76IOH8ZibjQw1AkuVTLkygmsUb0XUakCQSNawoemr2YZbB+Fq/AC3JcRIEjMTIAL+hcVphAIGLBWD7WgAWsIsMHrwA917CM/SVK4mmqutCDh5uLtpKNkYk44Hg0gGLNpIbcZvhm9GqKfb/JNK74ptjZCTiG+5ywQX9gaEVPFYZDEqLX1bq2FKsV1LyySK5BMoeTeb3ZJyU48Kw2PdhZEnIB+i/Ot0Br9u39/brwf8fDu9mc6m+HMyu3pHF3sPWmPDwnfKhrOQq9NAK3cUOUzKjUfBNvV/7EOu9H/jKPlj/84J6V+/tWhSphgY/004vL1tKJ0VksB6LFNc0sp9O3kyOW5LpaQQVicBFC1fS7VD+52Q41EECxSa6HxJe67yFse1WUG+Nidh7xtYqVtKGXGWtMB/2ECeoTAoq8p7RGhSyfA0IDPt0RRhrMIKC8VRKOzHz3x3Omw3QKtErsiWRSK0tGG3nRmxzzZtClcL/cgCI7YdwcN1J2NXKEcoWdOZBlMSpvqjyx/Rp+flwh+wCk0zBR86sLXUD5xZd88wW7EA9r4NLwtXiR2CVex/JlSw2Ko7GHufLCVTYVGCOG3TR6cy0c6Nl8MRfrXdpjNLeqssinZEOjk2Xb65czXjpw0zWTfvVe4sMDiS1Rq66/PrEXcFtWEBdQl8Gtaxfvh3OtxrNq4XdqCz+Prl/eIfbgPfqf0/Q+3fOfvf5uwrmazEmh5jcsfdBZX/NBy22fs6cZ23PDUt4QpC4BQbC63BQVV+kJXgkT2CvhKlc6WkOh2QKS4jJaH7oehC3nCE3Xrgg5+7fYBXFBbZKwQEx0H7X1ta8TxyP/SOkmegI23hymrbUtH8YMrZjXfTnGYq6uo9l8PLYfvwhtMkxKuPTPEuW3iQ7hcoNMiUMDsrdZIKSN9JhhDmQOk5vfd6VzXubbtH7zoH+ptrzrGDSCGIpGJTV+ZeOwFPtFWdLcXf6sSBPEyAu/rGPi0DlVc+bnd9v+kf6exHG3vVvb3m3WzEXX34uZ7abKnzsgXWjazsY1W7aj5JYKDqPjAvyLrJuZUXW5zZoEwnDmk0WUkbmSKp7dPKwVNJF/3H1TRhycGt3NaNrdrqeQCv6FcsDBEGJr0TNLoYXgyLkgdk9anAwbjP0lQq1F+Xh4YIroXZZMuLQMYDo3Z9W1r4YdME6w7AebIKXq4fkQ4NymvOeaUnJxdFw7+YQRoxyPJ9YUOZrHNqAbsTb4+WpAABxszE+TxH4Q8q2u9x2GUEVCv4jynBlvYAhxEsyqfOhytnTH/mjjCuSY/bZIp84HZMwIDUPLt24VFb8c6xLN7NYhniHsWeMGPhc0zRJOshyyR2LKcRS9aZvSBQJxP/vgKvvdbV","sidebar_class_name":"post api-method","info_path":"docs/swagger/veil-api-management","custom_edit_url":null},"sidebar":"docs","previous":{"title":"Introduction","permalink":"/veil/docs/swagger/veil-api-management"},"next":{"title":"Add new API keys","permalink":"/veil/docs/swagger/add-new-api-keys"}}');var a=r(23420),i=r(54942),p=r(83418),n=r.n(p),o=r(83534),c=r.n(o),d=r(94076),l=r.n(d),m=r(95046),y=r.n(m),h=(r(33999),r(5838),r(29540));const u={id:"onboard-a-new-api",title:"Onboard a new API",description:"Register a new API with Veil for subscription-based access control",sidebar_label:"Onboard a new API",hide_title:!0,hide_table_of_contents:!0,api:"eJztWFtvIjcU/iuWHysIkLbSijeaRd2oaTdKSHclhCIzY8C7M+Op7SGLRvz3Pceei4cZAtmmVSttHiD4cs53bt+xndOQ60CJ1AiZ0DG942uhDVeEkYQ/kcntNXkSZkP+5CIiK6mIzpbV+v6SaR4SFgRcaxLIxCgZ0R41bK3peE5x9+8sYWse88TQRY8q/lfGtflFhjs6zu1PoXhIx0ZlvEdRBK6EKZamkQgYqhl80ogtpzrY8Jjhf2aXckArl594YGjPEzSnKTMbGMpSbRRnsTf76IOH8ZibjQw1AkuVTLkygmsUb0XUakCQSNawoemr2YZbB+Fq/AC3JcRIEjMTIAL+hcVphAIGLBWD7WgAWsIsMHrwA917CM/SVK4mmqutCDh5uLtpKNkYk44Hg0gGLNpIbcZvhm9GqKfb/JNK74ptjZCTiG+5ywQX9gaEVPFYZDEqLX1bq2FKsV1LyySK5BMoeTeb3ZJyU48Kw2PdhZEnIB+i/Ot0Br9u39/brwf8fDu9mc6m+HMyu3pHF3sPWmPDwnfKhrOQq9NAK3cUOUzKjUfBNvV/7EOu9H/jKPlj/84J6V+/tWhSphgY/004vL1tKJ0VksB6LFNc0sp9O3kyOW5LpaQQVicBFC1fS7VD+52Q41EECxSa6HxJe67yFse1WUG+Nidh7xtYqVtKGXGWtMB/2ECeoTAoq8p7RGhSyfA0IDPt0RRhrMIKC8VRKOzHz3x3Omw3QKtErsiWRSK0tGG3nRmxzzZtClcL/cgCI7YdwcN1J2NXKEcoWdOZBlMSpvqjyx/Rp+flwh+wCk0zBR86sLXUD5xZd88wW7EA9r4NLwtXiR2CVex/JlSw2Ko7GHufLCVTYVGCOG3TR6cy0c6Nl8MRfrXdpjNLeqssinZEOjk2Xb65czXjpw0zWTfvVe4sMDiS1Rq66/PrEXcFtWEBdQl8Gtaxfvh3OtxrNq4XdqCz+Prl/eIfbgPfqf0/Q+3fOfvf5uwrmazEmh5jcsfdBZX/NBy22fs6cZ23PDUt4QpC4BQbC63BQVV+kJXgkT2CvhKlc6WkOh2QKS4jJaH7oehC3nCE3Xrgg5+7fYBXFBbZKwQEx0H7X1ta8TxyP/SOkmegI23hymrbUtH8YMrZjXfTnGYq6uo9l8PLYfvwhtMkxKuPTPEuW3iQ7hcoNMiUMDsrdZIKSN9JhhDmQOk5vfd6VzXubbtH7zoH+ptrzrGDSCGIpGJTV+ZeOwFPtFWdLcXf6sSBPEyAu/rGPi0DlVc+bnd9v+kf6exHG3vVvb3m3WzEXX34uZ7abKnzsgXWjazsY1W7aj5JYKDqPjAvyLrJuZUXW5zZoEwnDmk0WUkbmSKp7dPKwVNJF/3H1TRhycGt3NaNrdrqeQCv6FcsDBEGJr0TNLoYXgyLkgdk9anAwbjP0lQq1F+Xh4YIroXZZMuLQMYDo3Z9W1r4YdME6w7AebIKXq4fkQ4NymvOeaUnJxdFw7+YQRoxyPJ9YUOZrHNqAbsTb4+WpAABxszE+TxH4Q8q2u9x2GUEVCv4jynBlvYAhxEsyqfOhytnTH/mjjCuSY/bZIp84HZMwIDUPLt24VFb8c6xLN7NYhniHsWeMGPhc0zRJOshyyR2LKcRS9aZvSBQJxP/vgKvvdbV",sidebar_class_name:"post api-method",info_path:"docs/swagger/veil-api-management",custom_edit_url:null},b=void 0,g={},P=[];function x(e){const t={p:"p",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.default,{as:"h1",className:"openapi__heading",children:"Onboard a new API"}),"\n",(0,a.jsx)(n(),{method:"post",path:"/veil/api/onboard",context:"endpoint"}),"\n",(0,a.jsx)(t.p,{children:"Register a new API with Veil for subscription-based access control"}),"\n",(0,a.jsx)(h.default,{id:"request",as:"h2",className:"openapi-tabs__heading",children:"Request"}),"\n",(0,a.jsx)(c(),{parameters:void 0}),"\n",(0,a.jsx)(l(),{title:"Body",body:{required:!0,content:{"application/json":{schema:{type:"object",required:["path","upstream","required_subscription","methods"],properties:{path:{type:"string",description:"The API path pattern to match",example:"/api/v1/products/*"},upstream:{type:"string",description:"The upstream service URL",example:"http://localhost:8081"},required_subscription:{type:"string",description:"Required subscription level for access",example:"premium"},methods:{type:"array",description:"Allowed HTTP methods",items:{type:"string",enum:["GET","POST","PUT","DELETE","PATCH"]},example:["GET","POST"]},required_headers:{type:"array",description:"Required request headers",items:{type:"string"},example:["X-API-Key","X-Request-ID"]},parameters:{type:"array",description:"Required request parameters",items:{type:"object",required:["name","type"],properties:{name:{type:"string",description:"Parameter name",example:"category"},type:{type:"string",enum:["query","header","path"],description:"Parameter type",example:"query"},required:{type:"boolean",description:"Whether the parameter is required",example:!0}},title:"Parameter"}},api_keys:{type:"array",description:"List of valid API keys",items:{type:"object",required:["key","name","is_active"],properties:{key:{type:"string",description:"API key value",example:"test-key-123"},name:{type:"string",description:"Name of the API key",example:"Weather Test Key"},is_active:{type:"boolean",description:"Whether the API key is active",example:!0}},title:"APIKey"}}},title:"APIOnboardRequest"}}}}}),"\n",(0,a.jsx)(y(),{id:void 0,label:void 0,responses:{201:{description:"API successfully onboarded",content:{"application/json":{schema:{type:"object",properties:{status:{type:"string",example:"success"},message:{type:"string",example:"API onboarded successfully"},api:{type:"object",properties:{path:{type:"string",example:"/api/v1/products/*"},upstream:{type:"string",example:"http://localhost:8081"},required_subscription:{type:"string",example:"premium"},methods:{type:"array",items:{type:"string"},example:["GET","POST"]},required_headers:{type:"array",items:{type:"string"},example:["X-API-Key","X-Request-ID"]},parameters:{type:"array",items:{type:"object",required:["name","type"],properties:{name:{type:"string",description:"Parameter name",example:"category"},type:{type:"string",enum:["query","header","path"],description:"Parameter type",example:"query"},required:{type:"boolean",description:"Whether the parameter is required",example:!0}},title:"Parameter"}},api_keys:{type:"array",items:{type:"object",required:["key","name","is_active"],properties:{key:{type:"string",description:"API key value",example:"test-key-123"},name:{type:"string",description:"Name of the API key",example:"Weather Test Key"},is_active:{type:"boolean",description:"Whether the API key is active",example:!0}},title:"APIKey"}}},title:"APIConfig"}},title:"APIOnboardResponse"}}}},400:{description:"Invalid request body or missing required fields",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string",description:"Error message",example:"Invalid request body"}},title:"ErrorResponse"}}}},500:{description:"Internal server error",content:{"application/json":{schema:{type:"object",properties:{error:{type:"string",description:"Error message",example:"Invalid request body"}},title:"ErrorResponse"}}}}}})]})}function f(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(x,{...e})}):x(e)}}}]);